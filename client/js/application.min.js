function accountSettingController(e,t,o,r,n){console.log("accountSettingController instantiated");var s=this;s.disabled=!1,s.modalChangePassword=!1,e.activeTab.profile=!1,e.activeTab.crewList=!1,e.activeTab.production=!1,r.getUserStatus().then(function(e){s.user=e.data.user}),s.changePassword=function(){s.disabled=!0,n.post("/user/changePassword",{password:s.password,user:s.user}).success(function(e){e.success&&(s.modalChangePassword=!0)})},s.refresh=function(){t.reload()}}function completeRegistrationController(e,t,o,r){console.log("completeRegistrationController instantiated");var n=this;n.modalOpen=!1,r.checkCompRegToken(o.token).then(function(e){e.user||t.go("home")}),n.completeRegistration=function(e){n.disabled=!0,r.completeRegistration(o.token,n.registerForm).then(function(e){n.modalOpen=!0})}}function crewListController(e,t,o,r,n,s){var a=this;a.showModal=!1,a.notifModal={},e.activeTab={},e.activeTab.crewList=!0,n.getUserStatus().then(function(e){t.get("/api/users/"+e.data.user._id+"/contacts").success(function(e){a.currentUser=e,"crew"===a.currentUser.role&&r.go("profile"),a.inviteUrl="http://myproducer.io/#/register?r="+e._id+"&ur=crew",a.ready=!0})}),a.addContact=function(){t.post("/api/users/addcontact",a.newContact).success(function(e){if(a.newContact.email="",a.newContact.first_name="",a.newContact.last_name="",s.track("Add Contact Clicked",{user:a.currentUser.username}),e)if(e.success){a.notifModal.isSuccess=!0;var t=e.data.username;a.notifModal.content="You have successfully added "+t+" to your crew list.",a.currentUser.contacts.push(e.data)}else e.newSuccess?(a.notifModal.isSuccess=!0,a.notifModal.content="We have sent an invitation to "+e.newEmail+". They will appear in your crew list once they accept."):(a.notifModal.isFailure=!0,a.notifModal.content=e.message);else a.notifModal.isSuccess=!0,a.notifModal.content="We have sent an invitation to "+a.newContact.email+". They will appear in your crew list when they accept."}).error(function(e){a.notifModal.isFailure=!0,a.notifModal.content="An error has occurred. Please try again."}).finally(function(){a.openNotifModal()})},a.deleteContact=function(e){t.patch("/api/users/delete-contact",{contact:e,currentUser:a.currentUser}).success(function(e){a.currentUser.contacts=e.user.contacts})},a.closeModal=function(e){"modal-container"===e.target.getAttribute("id")&&(a.selectedUserId=void 0,a.showModal=!1)},a.openModal=function(){a.showModal=!0},a.openDeleteContactModal=function(e){a.contact=e,a.showDeleteContactModal=!0},a.handleAddToButton=function(e,t){a.selectedUserId=e,a.selectedUsername=t,a.openModal()},a.addCrewToProduction=function(e,o){var r={to:a.selectedUserId,production:e};t.post("/api/crew/",r).success(function(e){a.notifModal.isSuccess=!0,a.notifModal.content="You have successfully added "+a.selectedUsername+" to "+o+"."}).error(function(e){a.notifModal.isFailure=!0,a.notifModal.content="An error has occurred. Please try again."}).finally(function(){a.openNotifModal()})},a.openNotifModal=function(){a.notifModal.show=!0},a.closeNotifModal=function(){a.notifModal.show=!1,a.notifModal.isSuccess=!1,a.notifModal.isFaiure=!1},a.closeDeleteContactModal=function(){a.showDeleteContactModal=!1}}function forgotPasswordController(e,t,o,r,n){console.log("forgotPasswordController instantiated");var s=this;s.modalOpen=!1,s.modal2Open=!1,s.forgot=function(e){s.disabled=!0,n.forgotPassword(e).then(function(e){"resolved"==e.message?s.modalOpen=!0:(s.modal2Open=!0,s.disabled=!1)})}}function homeController(e,t,o){var r=this;e.isLoggedIn&&t.go("profile"),o.reg&&(r.registerIntent=!0)}function loginController(e,t,o,r){var n=this;e.activeTab={},n.userRole=o.ur,e.isLoggedIn&&t.go("profile"),n.login=function(){n.error=!1,n.disabled=!0,r.login(n.loginForm.username,n.loginForm.password).then(function(){"/offer/:id"===e.returnToState?t.go("offer",{id:e.returnToStateParams}):"/production/:id"===e.returnToState?t.go("production",{id:e.returnToStateParams}):t.go("profile"),n.disabled=!1,n.loginForm={}}).catch(function(){n.error=!0,n.errorMessage="Invalid email and/or password",n.disabled=!1,n.loginForm={}})}}function logoutController(e,t,o){var r=this;e.activeTab={},r.logout=function(){o.logout().then(function(){t.go("login"),e.isLoggedIn=!1})}}function mainController(e,t,o,r){var n=this;n.isNotLogin=!0,n.isLogin=!1,n.dropDown=!1,n.showDropdown=function(){0==n.dropDown?n.dropDown=!0:n.dropDown=!1},e.activeTab={},e.isLoggedIn=!1,e.$on("$stateChangeStart",function(t){o.getUserStatus().then(function(t){n.currentUser=t.data.user,n.currentUser&&(e.isLoggedIn=!0)})}),e.$on("$stateChangeSuccess",function(e){"/login"==r.path(),n.isNotLogin=!1,n.isLogin=!0})}function offerController(e,t,o,r,n,s){var a=this;a.currentUser={},e.activeTab={},t.getUserStatus().then(function(e){a.currentUser=e.data.user,o.get("/api/users/"+a.currentUser._id).success(function(e){a.currentUser=e,o.get("/api/crew/"+r.id).success(function(e){console.log(e.message[0]._by.picture),a.crew=e,a.isProducer=a.crew.production.by_._id===a.currentUser._id,a.isCrew=a.crew.production.by_._id!==a.currentUser._id,a.ready=!0})})}),a.addMessage=function(e){a.message={content:e||a.newMessage},a.message.content&&o.post("/api/crew/"+a.crew._id+"/message?crew="+a.crew.to.username+"&producer="+a.crew.production.by_.username,a.message).success(function(e){a.crew.message=e,a.newMessage="",s.track("Chat Message Sent",{user:a.currentUser.username})})},a.updateOfferStatus=function(e){a.offerUpdate=Object.assign({},a.crew),a.offerUpdate.offer.status=e,o.patch("/api/crew/"+r.id+"/status",a.offerUpdate).then(function(t){var o="";"Accepted"==e?(o="I accept your offer to work with you on "+a.crew.production.name+".",a.addMessage(o)):"Declined"==e&&(o="I respectfully decline your offer to work with you on "+a.crew.production.name+".",a.addMessage(o))})},a.compareDate=function(e){return e=new Date(e),e.setDate(e.getDate()+1),!!e&&new Date<e}}function otherProfileController(e,t,o,r,n){var s=this;s.modal={},s.modal.show=!1,s.currentUser={},e.activeTab={},e.activeTab.crewList=!0,n.getUserStatus().then(function(e){s.currentUser=e.data.user,t.get("/api/users/"+s.currentUser._id).success(function(e){s.currentUser=e,t.get("/api/users/"+o.id+"/profile").then(function(e){s.user=e.data,s.user.picture?s.profilePicture=s.user.picture:s.profilePicture="./img/profile_default.png",s.isPending=s.currentUser.pendingContacts.find(function(e){return e===s.user._id}),s.ready=!0})})}),s.updateContactStatus=function(e){t.patch("/api/users/updateContact?of="+o.id+"&status="+e).then(function(t){s.modal.content="You have "+e+"d offer to join your crew list.",s.showModal()},function(){s.modal.content="An error has occurred. Please try again.",s.showModal()})},s.compareDate=function(e){return e=new Date(e),e.setDate(e.getDate()+1),!!e&&new Date<e},s.showModal=function(){s.modal.show=!0},s.closeModal=function(){s.modal.show=!1}}function postController(e,t,o,r,n,s){var a=this;a.currentUser={},a.editingState=!1,a.fileInput=document.getElementById("file-input"),a.modal={},a.showSaveButton=!0,s.file_changed=function(e){document.getElementById("profile-pic-preview").src=URL.createObjectURL(e.files[0]),console.log("File selected"),a.showSaveButton=!1},e.activeTab={},e.activeTab.profile=!0,n.getUserStatus().then(function(e){t.get("/api/users/"+e.data.user._id+"/profile").success(function(e){a.currentUser=e;var t=[];e.offersReceived.forEach(function(e){"Accepted"===e.offer.status&&t.push(e.production)}),a.currentUser.picture?a.profilePicture=a.currentUser.picture+"?random="+Math.random():a.profilePicture="./img/profile_default.png",a.currentUser.allProductions=e.productions.concat(t),a.ready=!0})}),a.editUser=function(){t.patch("/api/users/"+a.currentUser._id,a.currentUser).success(function(e){e.productions=a.currentUser.productions,e.offersReceived=a.currentUser.offersReceived,a.currentUser=e,a.modal.isSuccess=!0,a.modal.content="You have successfully updated your profile."}).error(function(e){a.modal.isFailure=!0,a.modal.content="An error has occurred. Please try again."}).finally(function(){a.editingState=!1,a.openModal()})},a.openModal=function(){a.modal.show=!0},a.openModal2=function(){a.modal.show2=!0,a.showSaveButton=!0},a.closeModal=function(){a.modal.show=!1,a.modal.isSuccess=!1,a.modal.isFailure=!1,r.reload()},a.closeModal2=function(){a.modal.show2=!1},a.compareDate=function(e){return e=new Date(e),e.setDate(e.getDate()+1),!!e&&new Date<e},a.initUpload=function(){var e=document.getElementById("file-input").files;return file=e[0],file.randomName=a.currentUser._id+"."+file.name.split(".").pop(),null==file?alert("No file selected."):void a.getSignedRequest(file)},a.getSignedRequest=function(e){const t=new XMLHttpRequest;t.open("GET","/uploads/sign-s3?file-name="+e.randomName+"&file-type="+e.type),t.onreadystatechange=function(){if(4===t.readyState)if(200===t.status){const o=JSON.parse(t.responseText);a.avatarUrl=o.url,a.uploadFile(e,o.signedRequest,o.url),a.addAvatarToProfile()}else alert("Could not get signed URL.")},t.send()},a.uploadFile=function(e,t,o){const r=new XMLHttpRequest;r.open("PUT",t),r.onreadystatechange=function(){4===r.readyState&&(200===r.status?document.getElementById("profile-picture").src=o+"?random="+Math.random():(console.log(r.status),alert("Could not upload file.")))},r.send(e)},a.addAvatarToProfile=function(){t.patch("/api/users/"+a.currentUser._id,{picture:a.avatarUrl}).then(function(e){a.profilePicture=e.data.picture+"?random="+Math.random(),a.closeModal2()})}}function productionController(e,t,o,r,n,s){var a=this;a.offers=[],a.currentUser={},e.activeTab={},e.activeTab.production=!0,a.notifModal={},a.editingState=!1,n.getUserStatus().then(function(e){a.currentUser=e.data.user,t.get("/api/users/"+a.currentUser._id+"/contacts").success(function(e){a.currentUser=e,t.get("/api/productions/"+o.id).success(function(e){a.production=e,a.isProducer=a.production.by_._id===a.currentUser._id,a.ready=!0})})}),a.editProduction=function(){t.patch("/api/productions/"+o.id,a.production).success(function(e){a.editingState=!1,e.crew=a.production.crew,a.production=e,a.notifModal.isSuccess=!0,a.notifModal.content="You have successfully updated your production."}).error(function(e){a.notifModal.isFailure=!0,a.notifModal.content="An error has occurred. Please try again."}).finally(function(){a.openNotifModal()})},a.deleteProduction=function(){t.delete("/api/productions/"+o.id).success(function(e){r.go("production-list")})},a.makeOffer=function(e,o){var r=a.offers[o];a.offer={offer:{status:"Pending",position:r.position,rate:r.rate,hours:r.hours}},t.patch("api/crew/"+e,a.offer).success(function(r){a.production.crew[o].offer.hours=r.offer.hours,a.production.crew[o].offer.position=r.offer.position,a.production.crew[o].offer.rate=r.offer.rate,a.production.crew[o].offer.status=r.offer.status,a.notifModal.isSuccess=!0,a.notifModal.content="You have successfully sent on offer to "+a.production.crew[o].to.username+".",a.message={content:"I would like to invite you to be part of my production team."},a.message.content&&t.post("/api/crew/"+e+"/message",a.message).success(function(e){}),s.track("Hire Clicked",{user:a.currentUser.username})}).error(function(e){a.notifModal.isFailure=!0,a.notifModal.content="An error has occurred. Please try again."}).finally(function(){a.openNotifModal()})},a.addToCrew=function(e){crewOffer={to:e,production:o.id},t.post("/api/crew/",crewOffer).success(function(e){a.production.crew=e,a.notifModal.isSuccess=!0,a.notifModal.content="You have successfully added a new crew member.",s.track("Add Crew Clicked",{user:a.currentUser.username})}).error(function(e){a.notifModal.isFailure=!0,a.notifModal.content="An error has occurred. Please try again."}).finally(function(){a.showModal=!1,a.openNotifModal()})},a.removeFromCrew=function(e,o){t.delete("/api/crew/"+e).then(function(t){t.data.success?(a.production.crew=a.production.crew.filter(function(t){return t._id.toString()!=e}),a.notifModal.isSuccess=!0,a.notifModal.content="You have successfully removed a crew member."):(a.notifModal.isFailure=!1,a.notifModal.content="An error has occurred. Please try again.")}).catch(function(e){a.notifModal.isFailure=!0,a.notifModal.content="An error has occurred. Please try again."}).finally(function(){a.openNotifModal()})},a.closeModal=function(e){"modal-container"===e.target.getAttribute("id")&&(a.selectedUserId=void 0,a.showModal=!1)},a.openModal=function(){a.showModal=!0},a.openNotifModal=function(){a.notifModal.show=!0},a.closeNotifModal=function(){a.notifModal.show=!1,a.notifModal.isSuccess=!1,a.notifModal.isFailure=!1},a.compareDate=function(e){return e=new Date(e),e.setDate(e.getDate()+1),!!e&&new Date<e},a.notifyCrew=function(){t.get("/api/productions/"+o.id+"/notify").success(function(e){a.notifModal.isSuccess=!0,a.notifModal.content="You have successfully sent an email notification to your crew members.",a.openNotifModal(),s.track("Notify Crew Clicked")})},console.log("vm.production.crew"),console.log(a.production)}function productionListController(e,t,o,r,n,s){var a=this;a.notifModal={},e.activeTab={},e.activeTab.production=!0,n.getUserStatus().then(function(e){t.get("/api/users/"+e.data.user._id+"/productions").success(function(e){a.currentUser=e;var t=[];e.offersReceived.forEach(function(e){"Accepted"===e.offer.status&&t.push(e.production)}),a.currentUser.allProductions=e.productions.concat(t),a.ready=!0,"producer"===a.currentUser.role&&a.updateMinDateTo()})});var i=new Date(Date.now());a.dateFrom=i,a.dateFrom.setHours(0),a.dateFrom.setMinutes(0),a.dateFrom.setSeconds(0),a.dateFrom.setMilliseconds(0),a.minDateFrom=i.getFullYear()+"-"+(i.getMonth()+1)+"-"+i.getDate(),a.updateMinDateTo=function(){var e=new Date(a.dateFrom);a.minDateTo=e.getFullYear()+"-"+(e.getMonth()+1)+"-"+e.getDate(),document.getElementById("prod-date-to").setAttribute("min",a.minDateTo),new Date(a.dateFrom)>new Date(a.dateTo)&&(a.dateTo=void 0,a.notifModal.isFailure=!0,a.notifModal.content="Please check the production dates!",a.notifModal.show=!0)},a.addProduction=function(){if(new Date(a.dateFrom)>new Date(a.dateTo))a.dateTo=void 0,a.notifModal.isFailure=!0,a.notifModal.content="Please check the production dates! Your production end date is before its start date",a.notifModal.show=!0;else{var e={from:new Date(a.dateFrom),to:new Date(a.dateTo),by_:a.currentUser,name:a.newProduction.name};t.post("/api/productions",e).success(function(e){a.currentUser.allProductions=a.currentUser.productions.concat(e),s.track("New Production Added",{user:a.currentUser.username,length:e.length})})}},a.deleteProduction=function(e,o){confirm("Are you sure you want to delete this production?")&&t.patch("/api/productions/"+o,{active:!1}).success(function(t){a.currentUser.allProductions=a.currentUser.allProductions.filter(function(e,t){return e._id.toString()!=o}),a.notifModal.isSuccess=!0,a.notifModal.content="You have successfully deleted "+e,s.track("Production Deleted",{user:a.currentUser.username})}).error(function(e){a.notifModal.isFailure=!0,a.notifModal.content="An error has occurred. Please try again."}).finally(function(){a.openNotifModal()})},a.openNotifModal=function(){a.notifModal.show=!0},a.closeNotifModal=function(){a.notifModal.show=!1,a.notifModal.isSuccess=!1,a.notifModal.isFailure=!1},a.compareDate=function(e){return e=new Date(e),e.setDate(e.getDate()+1),!!e&&new Date<e}}function registerController(e,t,o,r){var n=this;e.activeTab={},e.isLoggedIn?t.go("profile"):void 0===o.ur&&t.go("home",{reg:!0}),n.register=function(){n.error=!1,n.disabled=!0,r.register(n.registerForm,o.ur,o).then(function(){t.go("profile"),n.disabled=!1,n.registerForm={}}).catch(function(){n.error=!0,n.errorMessage="Something went wrong!",n.disabled=!1,n.registerForm.username="",n.registerForm.password=""})}}function resetPasswordController(e,t,o,r){console.log("resetPasswordController instantiated");var n=this;n.modalOpen=!1,r.checkToken(o.token).then(function(e){e.user||t.go("home")}),n.resetPassword=function(e){n.disabled=!0,r.resetPassword(o.token,e).then(function(e){n.modalOpen=!0})}}var myApp=angular.module("myApp",["ui.router","ui.bootstrap","analytics.mixpanel"]);myApp.config(["$stateProvider","$urlRouterProvider","$mixpanelProvider",function(e,t,o){o.apiKey("15cd4875d9c8b7a226829c8fcf5ce560"),t.otherwise("/profile"),e.state("home",{url:"/?reg",templateUrl:"templates/home.html",controller:"homeController as homeCtrl"}).state("login",{url:"/login?ur",templateUrl:"templates/login.html",controller:"loginController as loginCtrl"}).state("logout",{url:"/logout",templateUrl:"templates/logout.html",controller:"logoutController",restricted:!0}).state("register",{url:"/register?p&r&ur",templateUrl:"templates/register.html",controller:"registerController as registerCtrl"}).state("complete-registration",{url:"/complete-registration/:token",templateUrl:"templates/complete-registration.html",controller:"completeRegistrationController as compRegCtrl"}).state("forgot-password",{url:"/forgot-password",templateUrl:"templates/forgot-password.html",controller:"forgotPasswordController as forgotPWCtrl"}).state("reset-password",{url:"/reset-password/:token",templateUrl:"templates/reset-password.html",controller:"resetPasswordController as resetPWCtrl"}).state("crew-list",{url:"/crewlist",templateUrl:"templates/crewList.html",controller:"crewListController as crewListCtrl",restricted:!0}).state("production",{url:"/production/:id",templateUrl:"templates/production.html",controller:"productionController as productionCtrl",restricted:!0}).state("production-list",{url:"/productions",templateUrl:"templates/productionList.html",controller:"productionListController as productionListCtrl",restricted:!0}).state("profile",{url:"/profile",templateUrl:"templates/profile.html",controller:"postController as postCtrl",restricted:!0}).state("account-settings",{url:"/account-settings",templateUrl:"templates/account-settings.html",controller:"accountSettingController as accSetCtrl",restricted:!0}).state("otherProfile",{url:"/profile/:id",templateUrl:"templates/otherProfile.html",controller:"otherProfileController as otherProfileCtrl",restricted:!0}).state("offer",{url:"/offer/:id",templateUrl:"templates/offer.html",controller:"offerController as offerCtrl",restricted:!0})}]),myApp.run(["$rootScope","$location","$state","AuthService",function(e,t,o,r){e.$on("$stateChangeError",console.log.bind(console)),e.$on("$stateChangeStart",function(t,n,s,a,i){r.getUserStatus().then(function(){n.restricted&&!r.isLoggedIn()&&(e.returnToState=n.url,e.returnToStateParams=s.id,o.go("login"))})})}]),angular.module("myApp").factory("AuthService",["$q","$timeout","$http","$state",function(e,t,o,r){function n(){return!!m}function s(){return o.get("/user/status").success(function(e){m=!!e.status}).error(function(e){m=!1})}function a(t,r){var n=e.defer();return o.post("/user/login",{username:t,password:r}).success(function(e,t){200===t&&e.status?(m=!0,n.resolve()):(m=!1,n.reject())}).error(function(e){m=!1,n.reject()}),n.promise}function i(){var t=e.defer();return o.get("/user/logout").success(function(e){m=!1,t.resolve()}).error(function(e){m=!1,t.reject()}),t.promise}function c(t,r,n){var s=e.defer();if(n.p)var a="/user/register?addTo="+n.p;else if(n.r)var a="/user/register?requestTo="+n.r;else var a="/user/register";return console.log(a),o.post(a,{username:t.username,first_name:t.first_name,last_name:t.last_name,password:t.password,role:r}).success(function(e,t){200===t&&e.status?s.resolve():s.reject()}).error(function(e){s.reject()}),s.promise}function l(t){var r=e.defer();return o.post("/user/forgot-password",{email:t}).success(function(e,t){e.user===!1?r.resolve({message:"rejected"}):r.resolve({message:"resolved"})}).error(function(e){r.reject({message:"rejected"})}),r.promise}function u(t){var r=e.defer();return o.post("/user/check-token",{token:t}).success(function(e,t){if(200===t)r.resolve(e);else{r.reject()}}).error(function(e){m=!1,r.reject()}),r.promise}function d(t,r){var n=e.defer();return o.post("/user/reset/"+t,{password:r}).success(function(e,t){if(200===t)n.resolve(e);else{n.reject()}}).error(function(e){m=!1,n.reject()}),n.promise}function f(t){var r=e.defer();return o.post("/user/check-reg-token",{token:t}).success(function(e,t){if(200===t)r.resolve(e);else{r.reject()}}).error(function(e){m=!1,r.reject()}),r.promise}function p(t,r){var n=e.defer();return console.log("registerForm from services line 218"),console.log(r),o.patch("/user/compReg/"+t,{registerForm:r}).success(function(e,t){if(200===t)n.resolve(e);else{n.reject()}}).error(function(e){m=!1,n.reject()}),n.promise}var m=null;return{isLoggedIn:n,getUserStatus:s,login:a,logout:i,register:c,forgotPassword:l,checkToken:u,resetPassword:d,completeRegistration:p,checkCompRegToken:f}}]),angular.module("myApp").controller("accountSettingController",accountSettingController),accountSettingController.$inject=["$rootScope","$state","$stateParams","AuthService","$http"],angular.module("myApp").controller("completeRegistrationController",completeRegistrationController),completeRegistrationController.$inject=["$rootScope","$state","$stateParams","AuthService"],angular.module("myApp").controller("crewListController",crewListController),crewListController.$inject=["$rootScope","$http","$stateParams","$state","AuthService","$mixpanel"],angular.module("myApp").controller("forgotPasswordController",forgotPasswordController),forgotPasswordController.$inject=["$rootScope","$state","$stateParams","$http","AuthService"],angular.module("myApp").controller("homeController",homeController),homeController.$inject=["$rootScope","$state","$stateParams"],angular.module("myApp").controller("loginController",loginController),loginController.$inject=["$rootScope","$state","$stateParams","AuthService"],angular.module("myApp").controller("logoutController",logoutController),logoutController.$inject=["$rootScope","$state","AuthService"],angular.module("myApp").controller("mainController",mainController),mainController.$inject=["$rootScope","$state","AuthService","$location"],angular.module("myApp").controller("offerController",offerController),offerController.$inject=["$rootScope","AuthService","$http","$stateParams","$state","$mixpanel"],angular.module("myApp").controller("otherProfileController",otherProfileController),otherProfileController.$inject=["$rootScope","$http","$stateParams","$state","AuthService"],angular.module("myApp").controller("postController",postController),postController.$inject=["$rootScope","$http","$stateParams","$state","AuthService","$scope"],angular.module("myApp").controller("productionController",productionController),productionController.$inject=["$rootScope","$http","$stateParams","$state","AuthService","$mixpanel"],angular.module("myApp").controller("productionListController",productionListController),productionListController.$inject=["$rootScope","$http","$stateParams","$state","AuthService","$mixpanel"],angular.module("myApp").controller("registerController",registerController),registerController.$inject=["$rootScope","$state","$stateParams","AuthService"],angular.module("myApp").controller("resetPasswordController",resetPasswordController),resetPasswordController.$inject=["$rootScope","$state","$stateParams","AuthService"];